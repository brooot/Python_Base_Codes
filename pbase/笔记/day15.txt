2017年１２月22日　　星期五　　第15天

迭代器Iterator和生成器Generator
什么是迭代器？
是指能iter(obj)函数返回的对象
迭代器可以用next(it)函数获取迭代对象的值
l=[1,2,3,4]
it=iter(l)  it 是迭代器
w=next(it)

迭代器相关函数：
iter(iterable)  从可迭代对象中返回一个迭代器，iterable必须
是能提供一个迭代器的对象
next(iterable) 从迭代器Iterator中获取下一个记录，如果无法获取下一个记录
，则触发StopIteration异常
说明：
迭代器是访问可迭代对象的一种方式
迭代器只能取往前值，不能后退

练习：
能否用while循环来遍历range(1,10,3)返回的对象

生成器　Generator
生成器是能够动态提供数据的对象，生成器的对象是可迭代对象
生成器有两种：
    生成器函数
    生成器表达式
生成器函数含有yield语句的函数
    此函数被调用将返回一个生成器对象
    yield翻译为（生产，生成）
yield语句
语法：
yeied 表达式
说明：
    yield　语句用于def函数中　将此函数作用生成器函数使用
    yield 用来生成数据，供next(it)函数使用
生成器函数说明：
生成器函数调用return语句会产生一个异常

生成器表达式：
语法：
（表达式　for 变量　in 可迭代对象　[if 真值表达式]
作用：
　　用推导式形式生成一个新的生成器
示例：
gen=(x**2 for x in range(1,5))
it=iter(gen)
next(it)

迭代工具函数：
迭代工具函数的作用是生成一个个性化的可迭代对象

函数：
zip(iter1[,iter2[,....]])返回一个zip对象，此对象用于生成一个元组
  ，此元组的个数由最小的可迭代对象决定

enumerate(iterable[,start])
  生成带索引的枚举对象，返回的迭代类型为索引－值
  (index-value)对，默认索引从零开始，可以用start指定
    names=['中国移动','中国电信','中国联通']
    for x in enumerate(names):
        print(x)
for index,names in enumerate(names,1)

文件：
文件是数据存储的单位，文件通常用来长期存储数据，

文件的打开和关闭
文件需要在使用前先打开文件才能读写，在不需要读写文件时关闭文件以释放系统资源
任何操作系统，同时打开的文件有最大限制

文件的打开函数：open
open(filename,mode='r') 用于打开一个，返回此文件流 # r 是读
的对象，打开失败则会触发IOError错误

文件关闭：
F.close()  关闭文件，释放系统资源
    f=open('./myfile.txt')
    print('文件打开')

    f.close()
    print('文件关闭了')

python 文件操作的方法：
F.代表文件流对象
F.close() 关闭文件
F.readline() 读取一行数据，如果达到文件尾则返回空行，
F.readlines(max_chars=-1)  返回每行字符串的列表
　　max_chars=-1为最大字符数
F.writelines(lines)  写入字符串列表到文件中
F.read(size=-1)  从一个文件流中读取size个字符
F.write(s)   写一个字符串到文件中，返回写入的字符数
F.tell()    返回当前文件流的绝对位置
F.seek(offset,whence=0)
    改变数据流位置，返回新的绝对值位置
F.flush  把写入文件对象的缓存内容写入到磁盘

对于windows操作系统，默认换行符还"\r\n"
  Linux                       '\n'
  早期　Unix                    "\r"

  文本文件的迭代读取

f=open('myfile.txt')
for line in f:
    print(line)

练习：
１．写一个生成器函数myadd(x)用来生成x以内的奇数
如：myadd(10)    可以生成[1,3,5,7,9]
2.写一个生成器函数　myprimes(n),用来生成n以内所有素数
打印１００以内的素数
３．写一个生成器函数myrange(),用来生成一系列整数：
　　　　myrange与range功能相同
　　　　不允许使用range和列表
４．修改之前的学生系统，菜单中加入两个功能：
　　　　保存信息到文件（si.txt)
    从文件中提取信息数据（si.txt)